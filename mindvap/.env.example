# MindVap Authentication System Environment Configuration
# Copy this file to .env and fill in your actual values

# ===============================
# Supabase Configuration
# ===============================
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# Supabase Service Role Key (for server-side operations)
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# ===============================
# JWT Configuration
# ===============================
# Generate strong secrets: openssl rand -base64 32
JWT_ACCESS_SECRET=your-super-secret-access-token-key-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-min-32-chars

# Token expiration times
JWT_ACCESS_EXPIRY=900          # 15 minutes in seconds
JWT_REFRESH_EXPIRY=604800      # 7 days in seconds

# ===============================
# EmailJS Configuration
# ===============================
VITE_EMAILJS_PUBLIC_KEY=your-emailjs-public-key
EMAILJS_SERVICE_ID=service_mindvap_auth
EMAILJS_TEMPLATE_WELCOME=template_welcome
EMAILJS_TEMPLATE_PASSWORD_RESET=template_password_reset
EMAILJS_TEMPLATE_EMAIL_VERIFICATION=template_email_verification
EMAILJS_TEMPLATE_AGE_VERIFICATION=template_age_verification

# ===============================
# Security Configuration
# ===============================
# Encryption key for sensitive data (generate: openssl rand -base64 32)
ENCRYPTION_KEY=your-encryption-key-32-characters

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100    # Max requests per window
LOGIN_RATE_LIMIT_ATTEMPTS=5    # Max login attempts before lockout
LOGIN_RATE_LIMIT_WINDOW=900000 # 15 minutes in milliseconds

# Account lockout configuration
ACCOUNT_LOCKOUT_DURATION=1800000 # 30 minutes in milliseconds
MAX_FAILED_LOGIN_ATTEMPTS=5

# ===============================
# Age Verification
# ===============================
MIN_AGE_REQUIRED=21
AGE_VERIFICATION_METHOD=self_attestation_plus_payment

# ===============================
# Session Configuration
# ===============================
SESSION_TIMEOUT=900000         # 15 minutes in milliseconds
SESSION_REFRESH_THRESHOLD=300000 # 5 minutes in milliseconds
MAX_ACTIVE_SESSIONS=5

# ===============================
# Database Configuration
# ===============================
DATABASE_URL=postgresql://user:password@host:port/database
REDIS_URL=redis://localhost:6379

# ===============================
# Application Configuration
# ===============================
VITE_APP_URL=http://localhost:5173
NODE_ENV=development
APP_NAME=MindVap
APP_VERSION=1.0.0

# ===============================
# Logging Configuration
# ===============================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
ENABLE_SECURITY_LOGGING=true

# ===============================
# GDPR Compliance
# ===============================
DATA_RETENTION_DAYS=2555       # 7 years in days
GDPR_DELETION_GRACE_PERIOD=30  # Days before deletion after request

# ===============================
# Feature Flags
# ===============================
ENABLE_AGE_VERIFICATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=false   # For future implementation
ENABLE_SOCIAL_LOGIN=false      # For future implementation

# ===============================
# Development Configuration
# ===============================
SKIP_EMAIL_VERIFICATION=false  # Set to true for development
SKIP_AGE_VERIFICATION=false    # Set to true for development
ENABLE_TEST_ENDPOINTS=true     # Set to false for production